<!DOCTYPE html>
<html>

<head>
    <title>Northern Ireland Elections Open Data</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/leaflet.css" />

    <link rel="stylesheet" type="text/css" href="website/css/style.css" media="screen, handheld" />
    <link rel="stylesheet" type="text/css" href="website/css/enhanced.css" media="screen  and (min-width: 50.5em)" />
    <link rel="icon" type="image/png" href="website/image/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="website/image/favicon-16x16.png" sizes="16x16" />
    <!-- <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" /> -->
    <script src="https://use.fontawesome.com/3302049464.js"></script>
    <script src="src/leaflet.js"></script>
    <script src="src/leaflet.ajax.min.js"></script>

    <script src="src/jquery.js"></script>
    <script src="src/lodash.min.js"></script>

    <script src="src/highcharts/highcharts.js"></script>
    <script src="src/highcharts/highcharts-more.js"></script>
    <script src="src/highcharts/solid-gauge.js"></script>
    <script src="src/highcharts/data.js"></script>
    <!-- Vue.js and Vue Router -->
    <script src="src/vue.js"></script>
    <script src="src/vue-router.js"></script>
    <script src="src/vue-resource.min.js"></script>
    <!-- <script src="https://rawgit.com/matfish2/vue-tables/master/dist/vue-tables.min.js"></script> -->
    <script src="src/bootstrap.min.js"></script>
    <script src="src/vue-paginate.js"></script>
    <script src="src/papaparse.min.js"></script>
    <script src="src/vue-highcharts.js"></script>
    <!--[if (lt IE 9)&(!IEMobile)]>
		<link rel="stylesheet" type="text/css" href="enhanced.css" />
		<![endif]-->
    <meta name="description" content="Generating crowdsourced open data, live results and data visualisations for the Northern Ireland Assembly Elections 2017." />
    <meta name="keywords" content="assembly, elections, open data, northern ireland, 2016, 2017, AE16, AE17, crowdsource, results, single transferable vote, stv, constituency, candidate, odi belfast, open government network, nicva, voting, #AE17, tally, count, electoral"
    />
    <meta name="author" content="Bob Harper">
    <meta name="robots" content="index, follow">
    <meta name="revisit-after" content="1 month">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@electionsni" />
    <meta name="twitter:creator" content="@odibelfast" />
    <meta property="og:url" content="http://electionsni.org" />
    <meta property="og:title" content="Elections NI #AE17" />
    <meta property="og:description" content="Generating crowdsourced open data, live results and data visualisations for the Northern Ireland Assembly Elections 2017." />
    <meta property="og:image" content="https://s3-eu-west-1.amazonaws.com/electionsni.org/website/image/banner.png" />
    <!-- data, elections, ni -->

</head>
<style>
    /*kill off Bootstrap gutter padding between columns*/

    .no-gutter>[class*='col-'] {
        padding-right: 0;
        padding-left: 0;
    }
</style>

<body>
    <div id="app">
        <header>
            <h1><a href = "/">Elections NI</a></h1>
            <p>Open data for the Assembly Elections #AE17</p>
        </header>
        <label for="show-menu" class="show-menu">Menu</label>
        <input type="checkbox" id="show-menu" role="button">
        <div id='cssmenu'>
            <ul>
                <li>
                    <router-link :to="{ name: 'election', params: {year: election.year }}">{{ election.year }}</router-link>
                </li>
                <li><a href='#'><span>Constituencies</span></a></li>
                <li>
                    <router-link :to="{ name: 'results', params: {year: election.year }}">Results</router-link>
                </li>
                <li>
                    <router-link :to="{ name: 'candidates', params: { year: election.year }}">Candidates</router-link>
                </li>
                <li><a href='#'><span>Data</span></a></li>
                <li class='last'><a href='#'><span>About</span></a></li>
            </ul>
        </div>

        <!-- This is where the page will render -->
        <router-view class="view" :election="election" :candidates="candidates" :elected_candidates="elected_candidates" :parties="parties" :constituencies="constituencies" />
        <router-view>

            <div id="footer">
                Project by <a href="http://belfast.theodi.org">ODI Belfast</a> at <a href="http://www.nicva.org">NICVA</a> and the <a href="http://www.opengovernment.org.uk/about/ni-ogn/">Open Government Network NI</a></br>
                <a href="http://www.nicva.org"><img src="/website/image/nicva500.png" height="75px" align="middle"></a>
                <a href="http://belfast.theodi.org"><img src="/website/image/odibelfast500.png" height="75px" align="middle"></a>
                <a href="http://www.opengovernment.org.uk/about/ni-ogn/"><img src="/website/image/ognni500.png" height="75px" align="middle"></a>
            </div>
    </div>

    <template id="home-page-template">
          <div>
            <div class="jumbotron">
              <div class="container">
                <div class="row">
                  <div class="col-md-6">
                    <parties-gauge/>
                  </div>
                  <div class="col-md-6">
                    <h2>Welcome to ElectionsNI</h2>
                    <p class="lead">ElectionsNI uses crowdsourced information on elections to the Northern Ireland Assembly to produce the real-time results that matter.</p>
                    <p><router-link class="btn btn-lg btn-success" role="button" :to="{ name: 'election', params: { year: '2017' }}">Assembly Election 2017</router-link></p>
                    <p><router-link role="button" class="btn btn-default" :to="{ name: 'election', params: { year: '2016' }}">Assembly Election 2016</router-link>
                    <router-link role="button" class="btn btn-default" :to="{ name: 'election', params: { year: '2011' }}">Assembly Election 2011</router-link></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
      </template>

    <template id="election-page">
      <div class="container">
        <h1>Assembly Election {{election.year}}</h1>
        <h2>{{new Date(election.date).toDateString()}}</h2>
        <h3>{{election.seats_total}} seats available ({{election.seats_each}} per constituency)</h3>
        <h3 v-if="election.turnout">Turnout: {{ election.turnout }}%</h3>
        <h3><router-link :to="{ name: 'candidates', params: { year: election.year }}">{{candidates.length}} candidates standing</router-link></h3>
        <h3>{{ parties.length }} parties</h3>
        <h3>Results >></h3>
      </div>
    </template>

    <template id="results-page">
      <div class="container">
        <h1>Assembly Election {{election.year}}</h1>
        <parties-gauge/>
      </div>
    </template>

    <template id="seat-gauge">
        <highcharts :options="options" ref="highcharts"></div>
      </template>

    <template id="parties-gauge">
          <highcharts :options="options" ref="highcharts"></div>
        </template>

    <template id="all-candidates-page">
      <div class="container">
          <candidate-list :election="election" :constituences="constituencies"/>
        </div>
        </template>


    <template id="candidate-list">
      <div>
        <div class="row">

          <div class="col-md-3" id="leftCol">
            <h3>Constituencies</h3>
            <h4 v-for="constituency in this.$parent.constituencies" v-if="constituency.Constituency_Number">
              <router-link :to="'#constituency-' + constituency.Constituency_Number">
                {{ constituency.Constituency_Name }}
              </router-link>
            </h4>
            <div class="alert alert-info" role="alert">
              <h3>Help collect data with Democracy Club</h3>
              <p>Democracy Club help us collect up to date and accurate candidate information.</p><p>You can contribute information about candidates yourself.</p>
              <a class="btn btn-primary" role="button" href="https://candidates.democracyclub.org.uk/election/nia.2017-03-02/constituencies" target="_blank">Contribute</a>
            </div>
      		</div>

        <div class="col-md-9">
          <h2>Candidates ({{ election.year }})</h2>
          <div v-if="this.$parent.confirmedCandidates === false" class="alert alert-warning" role="alert"><p class="alert-text"><strong>Unconfirmed!</strong> Some of the candidates below may have been officially nominated, others may not yet have done so. Therefore, these are "unconfirmed candidates" until we have finalised nominations from the Electoral Office.</p></div>
          <template v-for="constituency in this.$parent.constituencies">
            <h3 :id="'constituency-' + constituency.Constituency_Number">{{ constituency.Constituency_Name }}</h3>
              <template v-for="candidate in candidates" v-if="candidate.Constituency_Number == constituency.Constituency_Number && candidate.Candidate_Id">
              <router-link :to="{name: 'candidate', params: { id: candidate.Candidate_Id }}" class="list-group-item">
                <h3 class="list-group-item-heading">
                  <i class="fa fa-user" aria-hidden="true"></i>
                  {{ candidate.Firstname }} {{ candidate.Surname}}
                  <span class="label label-success" v-if="_.some(elected_candidates, ['Candidate_Id', candidate.Candidate_Id ])">elected</span>
                </h3>
                <h4 style="color: #777">{{ candidate.Party_Name }}</h4>
              </router-link>
              </template>
    <router-link to="">Back to top</router-link>
    </template>
    </div>

    </div>
    </div>
    </template>


    <template id="candidate-page">
        <div class="container">
          <ul class="breadcrumb"><li><router-link :to="{ name: 'election', params: { year: election.year }}">{{ election.year }}</router-link></li><li><router-link :to="{ name: 'candidates', params: { year: election.year }}">Candidates</router-link></li><li class="active">{{ candidate.Firstname }} {{ candidate.Surname }}</li></ul>
          <h2>{{ candidate.Firstname }} {{ candidate.Surname }}</h2>
          <template  v-if="demoClub">
          <img v-if="demoClub.images[0]" :src="'https://candidates.democracyclub.org.uk/' + demoClub.images[0].image_url" class="media-object" width="200px">
          <img v-else src="/website/image/person-default.png" class="media-object" width="200px">
          <p v-if="demoClub.images[0]">Photo credit: see <a :href="'https://candidates.democracyclub.org.uk/person/' + candidate.Candidate_id">Democracy Club</a></p>
        </template>
    <h3>Standing for election in <strong>{{ candidate.Constituency_Name }}</strong></h3>
    <h3><i class="fa fa-users" aria-hidden="true"></i> {{ candidate.Party_Name }}</h3>
    <h4 v-if="candidate.Twitter"><i class="fa fa-twitter" style="color: #00aced"></i> <a target="_blank" :href="'http://twitter.com/' + candidate.Twitter">{{ candidate.Twitter }}</a></h4>
    </div>
    </template>

    <script>
        // (function(i, s, o, g, r, a, m) {
        //     i['GoogleAnalyticsObject'] = r;
        //     i[r] = i[r] || function() {
        //         (i[r].q = i[r].q || []).push(arguments)
        //     }, i[r].l = 1 * new Date();
        //     a = s.createElement(o),
        //         m = s.getElementsByTagName(o)[0];
        //     a.async = 1;
        //     a.src = g;
        //     m.parentNode.insertBefore(a, m)
        // })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        //
        // ga('create', 'UA-77063537-1', 'auto');
        // ga('send', 'pageview');
    </script>
    <script src="/example_charts/charts.js"></script>
    <script src="index.js"></script>

</body>

</html>
